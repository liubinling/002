/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * QbTablePopDialog.java
 *
 * Created on 2010-11-8, 23:00:43
 */
package com.bca.toolkit.top.tools.sql.impl.boncEpmUI;

import com.bca.db.meta.I_WfColumn;
import com.bca.templ.pub.AbstractApp;
import com.bca.toolkit.top.tools.sql.SqlCreateModel;
import com.bca.toolkit.top.tools.sql.qb.QbJTable;
import com.bca.toolkit.top.tools.sql.qb.I_ColBatchDlg;
import com.bca.toolkit.top.tools.sql.qb.QbBottomPane;
import com.bca.toolkit.top.tools.sql.qb.QbRightPanel;
import java.awt.Color;
import javax.swing.JDialog;
import java.awt.Window;
import javax.swing.JButton;
import javax.swing.JOptionPane;
import static javax.swing.JOptionPane.showConfirmDialog;
import javax.swing.event.DocumentEvent;
import javax.swing.event.DocumentListener;

/**
 *
 * @author pxs
 */
public class QbTablePopDialog_BoncEpmUI extends javax.swing.JDialog implements I_ColBatchDlg {

    private QbJTable qbJTable;
    public static int selectNO;
    public static int PicNum=1;
    private static QbRightPanel sqlPreviewPanel;
    /**
     * Creates new form QbTablePopDialog
     */
    public QbTablePopDialog_BoncEpmUI() {
        super(AbstractApp.getMainFrameOnPossible(), false);
//        this.qbJTable = qbJTable;
        initComponents();

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        buttonGroup2 = new javax.swing.ButtonGroup();
        buttonGroup3 = new javax.swing.ButtonGroup();
        jPanel6 = new javax.swing.JPanel();
        jDialog1 = new javax.swing.JDialog();
        jButton3 = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        selectOpenButton = new javax.swing.JButton();
        selectCloseButton = new javax.swing.JButton();
        kpiIdOpenButton = new javax.swing.JButton();
        kpiIdCloseButton = new javax.swing.JButton();
        parentIdOpenButton = new javax.swing.JButton();
        parentIdCloseButton = new javax.swing.JButton();
        initOpenButton = new javax.swing.JButton();
        initCloseButton = new javax.swing.JButton();
        paramOpenButton = new javax.swing.JButton();
        paramCloseButton = new javax.swing.JButton();
        kpiDescOpenButton = new javax.swing.JButton();
        kpiDescCloseButton = new javax.swing.JButton();
        keyOpenButton = new javax.swing.JButton();
        keyCloseButton = new javax.swing.JButton();
        valueOpenButton = new javax.swing.JButton();
        valueCloseButton = new javax.swing.JButton();
        itemOpenButton = new javax.swing.JButton();
        itemCloseButton = new javax.swing.JButton();
        descOpenButton = new javax.swing.JButton();
        descCloseButton = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        groupButton = new javax.swing.JButton();
        cancelGroupButton = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        orderButton = new javax.swing.JButton();
        cancelOrderButton = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        setAsPkButton = new javax.swing.JButton();
        maskPkButton = new javax.swing.JButton();
        jPanel5 = new javax.swing.JPanel();
        bindingSeqButton = new javax.swing.JButton();
        unbindingSeqButton = new javax.swing.JButton();
        delEStyleButton = new javax.swing.JButton();
        jPanel8 = new javax.swing.JPanel();
        nextQueryButton = new javax.swing.JButton();
        currentQueryTextField = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        lastQueryButton = new javax.swing.JButton();
        jLabel4 = new javax.swing.JLabel();
        picNumTextField = new javax.swing.JTextField();
        jPanel7 = new javax.swing.JPanel();
        okWhereButton = new javax.swing.JButton();
        cancelWhereButton = new javax.swing.JButton();

        jPanel6.setName("jPanel6"); // NOI18N

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 100, Short.MAX_VALUE)
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 100, Short.MAX_VALUE)
        );

        jDialog1.setName("jDialog1"); // NOI18N

        javax.swing.GroupLayout jDialog1Layout = new javax.swing.GroupLayout(jDialog1.getContentPane());
        jDialog1.getContentPane().setLayout(jDialog1Layout);
        jDialog1Layout.setHorizontalGroup(
            jDialog1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 400, Short.MAX_VALUE)
        );
        jDialog1Layout.setVerticalGroup(
            jDialog1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 300, Short.MAX_VALUE)
        );

        jButton3.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.jButton3.text")); // NOI18N
        jButton3.setName("jButton3"); // NOI18N

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("列批量操作"); // NOI18N
        setName("Form"); // NOI18N
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosed(java.awt.event.WindowEvent evt) {
                formWindowClosed(evt);
            }
        });

        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createTitledBorder(""), org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.jPanel1.border.title"))); // NOI18N
        jPanel1.setName("jPanel1"); // NOI18N

        jLabel1.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.jLabel1.text")); // NOI18N
        jLabel1.setName("jLabel1"); // NOI18N

        selectOpenButton.setText("选中显示-开");
        selectOpenButton.setToolTipText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.selectOpenButton.toolTipText")); // NOI18N
        selectOpenButton.setName("selectOpenButton"); // NOI18N
        selectOpenButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                selectOpenButtonActionPerformed(evt);
            }
        });

        selectCloseButton.setText("选中显示-关");
        selectCloseButton.setToolTipText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.selectCloseButton.toolTipText")); // NOI18N
        selectCloseButton.setName("selectCloseButton"); // NOI18N
        selectCloseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                selectCloseButtonActionPerformed(evt);
            }
        });

        kpiIdOpenButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.kpiIdOpenButton.text")); // NOI18N
        kpiIdOpenButton.setName("kpiIdOpenButton"); // NOI18N
        kpiIdOpenButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                kpiIdOpenButtonActionPerformed(evt);
            }
        });

        kpiIdCloseButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.kpiIdCloseButton.text")); // NOI18N
        kpiIdCloseButton.setName("kpiIdCloseButton"); // NOI18N
        kpiIdCloseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                kpiIdCloseButtonActionPerformed(evt);
            }
        });

        parentIdOpenButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.parentIdOpenButton.text")); // NOI18N
        parentIdOpenButton.setToolTipText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.parentIdOpenButton.toolTipText")); // NOI18N
        parentIdOpenButton.setName("parentIdOpenButton"); // NOI18N
        parentIdOpenButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                parentIdOpenButtonActionPerformed(evt);
            }
        });

        parentIdCloseButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.parentIdCloseButton.text")); // NOI18N
        parentIdCloseButton.setToolTipText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.parentIdCloseButton.toolTipText")); // NOI18N
        parentIdCloseButton.setName("parentIdCloseButton"); // NOI18N
        parentIdCloseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                parentIdCloseButtonActionPerformed(evt);
            }
        });

        initOpenButton.setText("init-开");
        initOpenButton.setToolTipText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.initOpenButton.toolTipText")); // NOI18N
        initOpenButton.setName("initOpenButton"); // NOI18N
        initOpenButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                initOpenButtonActionPerformed(evt);
            }
        });

        initCloseButton.setText("init-关");
        initCloseButton.setToolTipText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.initCloseButton.toolTipText")); // NOI18N
        initCloseButton.setName("initCloseButton"); // NOI18N
        initCloseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                initCloseButtonActionPerformed(evt);
            }
        });

        paramOpenButton.setText("param-开");
        paramOpenButton.setToolTipText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.paramOpenButton.toolTipText")); // NOI18N
        paramOpenButton.setName("paramOpenButton"); // NOI18N
        paramOpenButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                paramOpenButtonActionPerformed(evt);
            }
        });

        paramCloseButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.paramCloseButton.text")); // NOI18N
        paramCloseButton.setToolTipText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.paramCloseButton.toolTipText")); // NOI18N
        paramCloseButton.setName("paramCloseButton"); // NOI18N
        paramCloseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                paramCloseButtonActionPerformed(evt);
            }
        });

        kpiDescOpenButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.kpiDescOpenButton.text")); // NOI18N
        kpiDescOpenButton.setToolTipText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.kpiDescOpenButton.toolTipText")); // NOI18N
        kpiDescOpenButton.setName("kpiDescOpenButton"); // NOI18N
        kpiDescOpenButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                kpiDescOpenButtonActionPerformed(evt);
            }
        });

        kpiDescCloseButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.kpiDescCloseButton.text")); // NOI18N
        kpiDescCloseButton.setToolTipText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.kpiDescCloseButton.toolTipText")); // NOI18N
        kpiDescCloseButton.setName("kpiDescCloseButton"); // NOI18N
        kpiDescCloseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                kpiDescCloseButtonActionPerformed(evt);
            }
        });

        keyOpenButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.keyOpenButton.text")); // NOI18N
        keyOpenButton.setName("keyOpenButton"); // NOI18N
        keyOpenButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                keyOpenButtonActionPerformed(evt);
            }
        });

        keyCloseButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.keyCloseButton.text")); // NOI18N
        keyCloseButton.setName("keyCloseButton"); // NOI18N
        keyCloseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                keyCloseButtonActionPerformed(evt);
            }
        });

        valueOpenButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.valueOpenButton.text")); // NOI18N
        valueOpenButton.setName("valueOpenButton"); // NOI18N
        valueOpenButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                valueOpenButtonActionPerformed(evt);
            }
        });

        valueCloseButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.valueCloseButton.text")); // NOI18N
        valueCloseButton.setName("valueCloseButton"); // NOI18N
        valueCloseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                valueCloseButtonActionPerformed(evt);
            }
        });

        itemOpenButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.itemOpenButton.text")); // NOI18N
        itemOpenButton.setName("itemOpenButton"); // NOI18N
        itemOpenButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemOpenButtonActionPerformed(evt);
            }
        });

        itemCloseButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.itemCloseButton.text")); // NOI18N
        itemCloseButton.setName("itemCloseButton"); // NOI18N
        itemCloseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemCloseButtonActionPerformed(evt);
            }
        });

        descOpenButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncEpmUI.descOpenButton.text")); // NOI18N
        descOpenButton.setName("descOpenButton"); // NOI18N
        descOpenButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                descOpenButtonActionPerformed(evt);
            }
        });

        descCloseButton.setText("desc-关");
        descCloseButton.setName("descCloseButton"); // NOI18N
        descCloseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                descCloseButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(selectCloseButton)
                            .addComponent(kpiDescOpenButton)
                            .addComponent(kpiDescCloseButton))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(kpiIdCloseButton)
                            .addComponent(keyOpenButton)
                            .addComponent(keyCloseButton))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(parentIdCloseButton)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(initCloseButton))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(valueOpenButton)
                                    .addComponent(valueCloseButton))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(itemOpenButton)
                                    .addComponent(itemCloseButton)))))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(selectOpenButton)
                        .addGap(18, 18, 18)
                        .addComponent(kpiIdOpenButton)
                        .addGap(18, 18, 18)
                        .addComponent(parentIdOpenButton)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(initOpenButton)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(paramCloseButton)
                    .addComponent(paramOpenButton)
                    .addComponent(descOpenButton)
                    .addComponent(descCloseButton))
                .addContainerGap(22, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(paramOpenButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(selectOpenButton)
                        .addComponent(kpiIdOpenButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(parentIdOpenButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(initOpenButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel1)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(selectCloseButton)
                        .addComponent(kpiIdCloseButton)
                        .addComponent(parentIdCloseButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(initCloseButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addComponent(paramCloseButton))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(descOpenButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(descCloseButton))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(kpiDescOpenButton)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(kpiDescCloseButton))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(keyOpenButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(keyCloseButton))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(valueOpenButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(valueCloseButton))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(itemOpenButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(itemCloseButton)))
                .addContainerGap())
        );

        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createTitledBorder(""), org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.jPanel2.border.title"))); // NOI18N
        jPanel2.setName("jPanel2"); // NOI18N
        jPanel2.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.CENTER, 0, 0));

        groupButton.setText("分组字段"); // NOI18N
        buttonGroup2.add(groupButton);
        groupButton.setName("groupButton"); // NOI18N
        groupButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                groupButtonActionPerformed(evt);
            }
        });
        jPanel2.add(groupButton);

        cancelGroupButton.setText("取消分组"); // NOI18N
        buttonGroup2.add(cancelGroupButton);
        cancelGroupButton.setName("cancelGroupButton"); // NOI18N
        cancelGroupButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cancelGroupButtonActionPerformed(evt);
            }
        });
        jPanel2.add(cancelGroupButton);

        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createTitledBorder(""), org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.jPanel3.border.title"))); // NOI18N
        jPanel3.setName("jPanel3"); // NOI18N
        jPanel3.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.CENTER, 0, 0));

        orderButton.setText("排序字段"); // NOI18N
        buttonGroup3.add(orderButton);
        orderButton.setName("orderButton"); // NOI18N
        orderButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                orderButtonActionPerformed(evt);
            }
        });
        jPanel3.add(orderButton);

        cancelOrderButton.setText("取消排序"); // NOI18N
        buttonGroup3.add(cancelOrderButton);
        cancelOrderButton.setName("cancelOrderButton"); // NOI18N
        cancelOrderButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cancelOrderButtonActionPerformed(evt);
            }
        });
        jPanel3.add(cancelOrderButton);

        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createTitledBorder(""), org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.jPanel4.border.title"), javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("新宋体", 0, 12))); // NOI18N
        jPanel4.setName("jPanel4"); // NOI18N
        jPanel4.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.CENTER, 0, 0));

        setAsPkButton.setText("设为主键");
        setAsPkButton.setName("setAsPkButton"); // NOI18N
        setAsPkButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                setAsPkButtonActionPerformed(evt);
            }
        });
        jPanel4.add(setAsPkButton);

        maskPkButton.setText("关闭主键");
        maskPkButton.setName("maskPkButton"); // NOI18N
        maskPkButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                maskPkButtonActionPerformed(evt);
            }
        });
        jPanel4.add(maskPkButton);

        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createTitledBorder(""), org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.jPanel5.border.title"))); // NOI18N
        jPanel5.setName("jPanel5"); // NOI18N
        jPanel5.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.CENTER, 0, 0));

        bindingSeqButton.setText("绑定表SEQ");
        bindingSeqButton.setName("bindingSeqButton"); // NOI18N
        bindingSeqButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bindingSeqButtonActionPerformed(evt);
            }
        });
        jPanel5.add(bindingSeqButton);

        unbindingSeqButton.setText("解除SEQ绑定");
        unbindingSeqButton.setName("unbindingSeqButton"); // NOI18N
        unbindingSeqButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                unbindingSeqButtonActionPerformed(evt);
            }
        });
        jPanel5.add(unbindingSeqButton);

        delEStyleButton.setText("删除编辑风格");
        delEStyleButton.setEnabled(false);
        delEStyleButton.setName("delEStyleButton"); // NOI18N
        delEStyleButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                delEStyleButtonActionPerformed(evt);
            }
        });

        jPanel8.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createTitledBorder(""), org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.jPanel8.border.title"))); // NOI18N
        jPanel8.setName("jPanel8"); // NOI18N

        nextQueryButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.nextQueryButton.text")); // NOI18N
        nextQueryButton.setEnabled(false);
        nextQueryButton.setName("nextQueryButton"); // NOI18N
        nextQueryButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                nextQueryButtonActionPerformed(evt);
            }
        });

        currentQueryTextField.setText("SELECT_0");
        currentQueryTextField.setEnabled(false);
        currentQueryTextField.setName("currentQueryTextField"); // NOI18N
        currentQueryTextField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                currentQueryTextFieldActionPerformed(evt);
            }
        });

        jLabel3.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.jLabel3.text")); // NOI18N
        jLabel3.setName("jLabel3"); // NOI18N

        lastQueryButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.lastQueryButton.text")); // NOI18N
        lastQueryButton.setEnabled(false);
        lastQueryButton.setName("lastQueryButton"); // NOI18N
        lastQueryButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                lastQueryButtonActionPerformed(evt);
            }
        });

        jLabel4.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.jLabel4.text")); // NOI18N
        jLabel4.setName("jLabel4"); // NOI18N

        picNumTextField.setEnabled(false);
        picNumTextField.setName("picNumTextField"); // NOI18N
        picNumTextField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                picNumTextFieldActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 91, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(currentQueryTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 126, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(nextQueryButton)
                    .addComponent(lastQueryButton))
                .addGap(24, 24, 24)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(picNumTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 116, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(198, Short.MAX_VALUE))
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGap(10, 10, 10)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(lastQueryButton)
                        .addComponent(jLabel4)))
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(nextQueryButton)
                            .addComponent(picNumTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGap(4, 4, 4)
                        .addComponent(currentQueryTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(33, 33, 33))
        );

        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createTitledBorder(""), org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.jPanel7.border.title"))); // NOI18N
        jPanel7.setName("jPanel7"); // NOI18N

        okWhereButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.okWhereButton.text")); // NOI18N
        okWhereButton.setName("okWhereButton"); // NOI18N
        okWhereButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                okWhereButtonActionPerformed(evt);
            }
        });

        cancelWhereButton.setText(org.openide.util.NbBundle.getMessage(QbTablePopDialog_BoncEpmUI.class, "QbTablePopDialog_BoncLink.cancelWhereButton.text")); // NOI18N
        cancelWhereButton.setName("cancelWhereButton"); // NOI18N
        cancelWhereButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cancelWhereButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addComponent(okWhereButton)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(cancelWhereButton))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(okWhereButton)
                    .addComponent(cancelWhereButton)))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(46, 46, 46)
                        .addComponent(delEStyleButton))
                    .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(126, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(delEStyleButton, javax.swing.GroupLayout.Alignment.TRAILING))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void formWindowClosed(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowClosed
        getQbJTable().onPopDialogClosed();
    }//GEN-LAST:event_formWindowClosed

    private void orderButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_orderButtonActionPerformed
        getQbJTable().orderbySelectedFields(true);
        setGroupedFields("order_"+selectNO, true);
    }//GEN-LAST:event_orderButtonActionPerformed

    private void cancelOrderButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cancelOrderButtonActionPerformed
        getQbJTable().orderbySelectedFields(false);
        setGroupedFields("order_"+selectNO, false);
    }//GEN-LAST:event_cancelOrderButtonActionPerformed

    private void groupButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_groupButtonActionPerformed
        getQbJTable().groupbySelectedFields(true);
        setGroupedFields("group_"+selectNO, true);
    }//GEN-LAST:event_groupButtonActionPerformed

    private void cancelGroupButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cancelGroupButtonActionPerformed
        getQbJTable().groupbySelectedFields(false);
        setGroupedFields("group_"+selectNO, false);
    }//GEN-LAST:event_cancelGroupButtonActionPerformed

private void setAsPkButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_setAsPkButtonActionPerformed
    setSelectedFieldsPK(true);
}//GEN-LAST:event_setAsPkButtonActionPerformed

private void maskPkButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_maskPkButtonActionPerformed
    setSelectedFieldsPK(false);
}//GEN-LAST:event_maskPkButtonActionPerformed

private void bindingSeqButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bindingSeqButtonActionPerformed
    setSelectedFieldsSW("bindingSeqCol_"+selectNO, true);
}//GEN-LAST:event_bindingSeqButtonActionPerformed

private void unbindingSeqButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_unbindingSeqButtonActionPerformed
    setSelectedFieldsSW("bindingSeqCol_"+selectNO, false);
}//GEN-LAST:event_unbindingSeqButtonActionPerformed

    private void delEStyleButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_delEStyleButtonActionPerformed
        SqlCreateModel sm = qbJTable.getScene().getModel().getSqlModel();
        for (int row : qbJTable.getSelectedRows()) {
            I_WfColumn col = (I_WfColumn) qbJTable.getModel().getValueAt(row, 0);
            if (col != null) {
                sm.removeUiStyle(col.getSqlName());
            }
        }
        qbJTable.refreshSqlPreview(true);
        updateJTableUI();
    }//GEN-LAST:event_delEStyleButtonActionPerformed

    private void currentQueryTextFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_currentQueryTextFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_currentQueryTextFieldActionPerformed

    private void lastQueryButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_lastQueryButtonActionPerformed
        goToLastQuery();
    }//GEN-LAST:event_lastQueryButtonActionPerformed

    private void nextQueryButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_nextQueryButtonActionPerformed
        goToNextQuery();
    }//GEN-LAST:event_nextQueryButtonActionPerformed

    private void okWhereButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_okWhereButtonActionPerformed
        setGroupedFields("where_"+selectNO, true);
    }//GEN-LAST:event_okWhereButtonActionPerformed

    private void cancelWhereButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cancelWhereButtonActionPerformed
        setGroupedFields("where_"+selectNO, false);
    }//GEN-LAST:event_cancelWhereButtonActionPerformed

    private void picNumTextFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_picNumTextFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_picNumTextFieldActionPerformed

    private void itemCloseButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemCloseButtonActionPerformed
        setSelectedFieldsSW("item_"+selectNO, false);
    }//GEN-LAST:event_itemCloseButtonActionPerformed

    private void itemOpenButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemOpenButtonActionPerformed
        setSelectedFieldsSW("item_"+selectNO, true);
    }//GEN-LAST:event_itemOpenButtonActionPerformed

    private void valueCloseButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_valueCloseButtonActionPerformed
        setSelectedFieldsSW("value_"+selectNO, false);
    }//GEN-LAST:event_valueCloseButtonActionPerformed

    private void valueOpenButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_valueOpenButtonActionPerformed
        setSelectedFieldsSW("value_"+selectNO, true);
    }//GEN-LAST:event_valueOpenButtonActionPerformed

    private void keyCloseButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_keyCloseButtonActionPerformed
        setSelectedFieldsSW("key_"+selectNO, false);
    }//GEN-LAST:event_keyCloseButtonActionPerformed

    private void keyOpenButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_keyOpenButtonActionPerformed
        setSelectedFieldsSW("key_"+selectNO, true);
    }//GEN-LAST:event_keyOpenButtonActionPerformed

    private void kpiDescCloseButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_kpiDescCloseButtonActionPerformed
        setSelectedFieldsSW("kpiDesc_"+selectNO, false);
    }//GEN-LAST:event_kpiDescCloseButtonActionPerformed

    private void kpiDescOpenButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_kpiDescOpenButtonActionPerformed
        setSelectedFieldsSW("kpiDesc_"+selectNO, true);
    }//GEN-LAST:event_kpiDescOpenButtonActionPerformed

    private void paramCloseButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_paramCloseButtonActionPerformed
        setSelectedFieldsSW("param_"+selectNO, false);
    }//GEN-LAST:event_paramCloseButtonActionPerformed

    private void paramOpenButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_paramOpenButtonActionPerformed
        setSelectedFieldsSW("param_"+selectNO, true);
    }//GEN-LAST:event_paramOpenButtonActionPerformed

    private void initCloseButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_initCloseButtonActionPerformed
        setSelectedFieldsSW("init_"+selectNO, false);
    }//GEN-LAST:event_initCloseButtonActionPerformed

    private void initOpenButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_initOpenButtonActionPerformed
        setSelectedFieldsSW("init_"+selectNO, true);
    }//GEN-LAST:event_initOpenButtonActionPerformed

    private void parentIdCloseButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_parentIdCloseButtonActionPerformed
        setSelectedFieldsSW("parentId_"+selectNO, false);
    }//GEN-LAST:event_parentIdCloseButtonActionPerformed

    private void parentIdOpenButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_parentIdOpenButtonActionPerformed
        setSelectedFieldsSW("parentId_"+selectNO, true);
    }//GEN-LAST:event_parentIdOpenButtonActionPerformed

    private void kpiIdCloseButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_kpiIdCloseButtonActionPerformed
        setSelectedFieldsSW("kpiId_"+selectNO, false);
    }//GEN-LAST:event_kpiIdCloseButtonActionPerformed

    private void kpiIdOpenButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_kpiIdOpenButtonActionPerformed
        setSelectedFieldsSW("kpiId_"+selectNO, true);
    }//GEN-LAST:event_kpiIdOpenButtonActionPerformed

    private void selectCloseButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_selectCloseButtonActionPerformed
        setSelectedFieldsSW("select_"+selectNO, false);
    }//GEN-LAST:event_selectCloseButtonActionPerformed

    private void selectOpenButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_selectOpenButtonActionPerformed
        setSelectedFieldsSW("select_"+selectNO, true);
    }//GEN-LAST:event_selectOpenButtonActionPerformed

    private void descOpenButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_descOpenButtonActionPerformed
        setSelectedFieldsSW("desc_"+selectNO, true);
    }//GEN-LAST:event_descOpenButtonActionPerformed

    private void descCloseButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_descCloseButtonActionPerformed
        setSelectedFieldsSW("desc_"+selectNO, false);
    }//GEN-LAST:event_descCloseButtonActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton bindingSeqButton;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.ButtonGroup buttonGroup2;
    private javax.swing.ButtonGroup buttonGroup3;
    private javax.swing.JButton cancelGroupButton;
    private javax.swing.JButton cancelOrderButton;
    private javax.swing.JButton cancelWhereButton;
    private javax.swing.JTextField currentQueryTextField;
    private javax.swing.JButton delEStyleButton;
    private javax.swing.JButton descCloseButton;
    private javax.swing.JButton descOpenButton;
    private javax.swing.JButton groupButton;
    private javax.swing.JButton initCloseButton;
    private javax.swing.JButton initOpenButton;
    private javax.swing.JButton itemCloseButton;
    private javax.swing.JButton itemOpenButton;
    private javax.swing.JButton jButton3;
    private javax.swing.JDialog jDialog1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JButton keyCloseButton;
    private javax.swing.JButton keyOpenButton;
    private javax.swing.JButton kpiDescCloseButton;
    private javax.swing.JButton kpiDescOpenButton;
    private javax.swing.JButton kpiIdCloseButton;
    private javax.swing.JButton kpiIdOpenButton;
    private javax.swing.JButton lastQueryButton;
    private javax.swing.JButton maskPkButton;
    private javax.swing.JButton nextQueryButton;
    private javax.swing.JButton okWhereButton;
    private javax.swing.JButton orderButton;
    private javax.swing.JButton paramCloseButton;
    private javax.swing.JButton paramOpenButton;
    private javax.swing.JButton parentIdCloseButton;
    private javax.swing.JButton parentIdOpenButton;
    private javax.swing.JTextField picNumTextField;
    private javax.swing.JButton selectCloseButton;
    private javax.swing.JButton selectOpenButton;
    private javax.swing.JButton setAsPkButton;
    private javax.swing.JButton unbindingSeqButton;
    private javax.swing.JButton valueCloseButton;
    private javax.swing.JButton valueOpenButton;
    // End of variables declaration//GEN-END:variables

    /**
     * @return the qbJTable
     */
    public QbJTable getQbJTable() {
        return qbJTable;
    }

    /**
     * @param qbJTable the qbJTable to set
     */
    public void setQbJTable(QbJTable qbJTable) {
        this.qbJTable = qbJTable;
    }

    @Override
    public void wfinit(QbJTable jtable) {
        this.qbJTable = jtable;
        this.setTitle(String.format("表<%s>:列批量动作 (BONCLINK框架)", qbJTable.getModel().getTbean().getTableDetail().getName()));
        selectNO=0;
        picNumTextField.setText(PicNum+"");
       if(sqlPreviewPanel!=null)
            sqlPreviewPanel.refreshSQLPreview();
        updateJTableUI();
        //设定所有批量开关按钮的可用/不可用
        setMiBatchButton();
    }

    private void updateJTableUI() {
        java.awt.EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                qbJTable.updateUI();
            }
        });
    }

    private void setSelectedFieldsSW(String grp, boolean sw) {
        SqlCreateModel sm = qbJTable.getScene().getModel().getSqlModel();
        for (int row : qbJTable.getSelectedRows()) {
            if(row == 0)
                continue;
            I_WfColumn col = (I_WfColumn) qbJTable.getModel().getValueAt(row, 0);
            if (col != null) {
                if (sw) {
                    sm.removeFieldMask(grp, col.getSqlName());
                } else {
                    sm.maskField(grp, col.getSqlName());
                }
            }
        }
        QbRightPanel.setIsCancel(false);  //标识当前不是取消SQL预览编辑
        if(qbJTable!=null){
            if(sqlPreviewPanel!=null)
                sqlPreviewPanel.refreshSQLPreview();
            updateJTableUI();
        }
    }
    //设置选中字段是否为group变量
    private void setGroupedFields(String grp, boolean sw){
          SqlCreateModel sm = qbJTable.getScene().getModel().getSqlModel();
        for (int row : qbJTable.getSelectedRows()) {
            I_WfColumn col = (I_WfColumn) qbJTable.getModel().getValueAt(row, 0);
            if (col != null) {
                if (sw) {
                    sm.addGroup(grp, col.getSqlName());
                } else {
                    sm.removeGroup(grp, col.getSqlName());
                }
            }
        }
        QbRightPanel.setIsCancel(false);  //标识当前不是取消SQL预览编辑
       if(qbJTable!=null){
            if(sqlPreviewPanel!=null)
                sqlPreviewPanel.refreshSQLPreview();
            updateJTableUI();
       }
    }
    
    private void setSelectedFieldsPK(boolean isPK) {
        // Meta_Table m = qbJTable.getModel().getTbean().getTableDetail();
        for (int row : qbJTable.getSelectedRows()) {
            I_WfColumn col = (I_WfColumn) qbJTable.getModel().getValueAt(row, 0);
            if (col != null) {
                col.setPk(isPK);
                qbJTable.getModel().fillRow(row, col);
            }
        }
    }
    //转到上一个查询
    private void goToLastQuery(){
        try{
            PicNum = Integer.parseInt(picNumTextField.getText());
            if(PicNum < 0){
                        picNumTextField.setText("1");
                        JOptionPane.showMessageDialog(null, "-*-联动图形个数只能为非负整数-*-");
                        return;
                    }
            //将联动图形个数存入SqlCreateModel的属性picNum中
            SqlCreateModel sm = qbJTable.getScene().getModel().getSqlModel();
            sm.setPicNum(PicNum);
            nextQueryButton.setEnabled(true);
            if(selectNO>1&&selectNO<=PicNum)
                selectNO--;
            else if(selectNO==1){
                selectNO--;
                lastQueryButton.setEnabled(false);
            }else if(selectNO==0){
                lastQueryButton.setEnabled(false);
            }
        }catch(NumberFormatException e_P){
            picNumTextField.setText("1");
            JOptionPane.showMessageDialog(null, "-*-联动图形个数只能为正整数-*-");
        }
        
        currentQueryTextField.setText("SELECT_"+selectNO);
        if(sqlPreviewPanel!=null)
                sqlPreviewPanel.refreshSQLPreview();
        updateJTableUI();
    }
    //转到下一个查询
    private void goToNextQuery(){
        try{
            PicNum = Integer.parseInt(picNumTextField.getText());
            if(PicNum < 0){
                        picNumTextField.setText("1");
                        JOptionPane.showMessageDialog(null, "-*-联动图形个数只能为非负整数-*-");
                        return;
                    }
             //将联动图形个数存入SqlCreateModel的属性picNum中
            SqlCreateModel sm = qbJTable.getScene().getModel().getSqlModel();
            sm.setPicNum(PicNum);
            lastQueryButton.setEnabled(true);
            if(selectNO>=0&&selectNO<PicNum-1)
                selectNO++;
            else if(selectNO==PicNum-1){
                selectNO++;
                nextQueryButton.setEnabled(false);
            }
        }catch(NumberFormatException e_P){
            picNumTextField.setText("1");
            JOptionPane.showMessageDialog(null, "-*-联动图形个数只能为正整数-*-");
        }
        currentQueryTextField.setText("SELECT_"+selectNO);
        if(sqlPreviewPanel!=null)
                sqlPreviewPanel.refreshSQLPreview();
        updateJTableUI();
    }
//设置SQL预览区域的可编辑性
    private void setSqlPreviewState(boolean b) {
         QbRightPanel.getSqlEditPane().setEnabled(b);
    }
//设定所有批量开关按钮的可用/不可用
    private void setMiBatchButton() {
       String modelCategory = Cf_BoncEpmUIOptionDialog.getModelCategory();
       JButton[] buttons = new JButton[]{this.selectCloseButton, this.selectOpenButton, 
                                         this.initOpenButton, this.initCloseButton, 
                                         this.kpiDescCloseButton, this.kpiDescOpenButton, 
                                         this.kpiIdCloseButton, this.kpiIdOpenButton, 
                                         this.parentIdCloseButton, this.parentIdOpenButton, 
                                         this.paramCloseButton, this.paramOpenButton,
                                         this.bindingSeqButton, this.maskPkButton,
                                         this.unbindingSeqButton, this.setAsPkButton,
                                         this.keyOpenButton, this.keyCloseButton,
                                         this.valueOpenButton, this.valueCloseButton,
                                         this.itemOpenButton, this.itemCloseButton,
                                         this.descOpenButton, this.descCloseButton};  
       
        if (modelCategory.equals("分页表格") ) {
                for(JButton button : buttons){
                    if(!button.getName().equals("initOpenButton") &&
                            !button.getName().equals("initCloseButton") &&
                            !button.getName().equals("selectCloseButton")&&
                            !button.getName().equals("selectOpenButton")&&
                            !button.getName().equals("descOpenButton")&&
                            !button.getName().equals("descCloseButton")){
                        button.setEnabled(false);
                    }
                    
                }
        }
        else if (modelCategory.equals("增删改查表格") || modelCategory.equals("后端分页增删改查表格")) {
                
                this.kpiIdOpenButton.setText("add-开");
                this.kpiIdCloseButton.setText("add-关");
                this.parentIdOpenButton.setText("查询-开");
                this.parentIdCloseButton.setText("查询-关");
                this.paramOpenButton.setText("update-开");
                this.paramCloseButton.setText("update-关");
                this.kpiDescOpenButton.setText("唯一-开");
                this.kpiDescCloseButton.setText("唯一-关");

                this.kpiIdOpenButton.setToolTipText("可增加");
                this.kpiIdCloseButton.setToolTipText("可增加");
                this.parentIdOpenButton.setToolTipText("可查询");
                this.parentIdCloseButton.setToolTipText("可查询");
                this.paramOpenButton.setToolTipText("可更新");
                this.paramCloseButton.setToolTipText("可更新");
                this.kpiDescOpenButton.setToolTipText("不可重复");
                this.kpiDescCloseButton.setToolTipText("不可重复");

        }
        else if (modelCategory.equals("树状表格")) {
                this.kpiIdCloseButton.setToolTipText("子节点");
                this.kpiIdOpenButton.setToolTipText("子节点");
                for(JButton button : buttons){
                    if(!button.getName().equals("initOpenButton") &&
                            !button.getName().equals("initCloseButton") &&
                            !button.getName().equals("kpiIdCloseButton") &&
                            !button.getName().equals("kpiIdOpenButton") &&
                            !button.getName().equals("selectCloseButton")&&
                            !button.getName().equals("selectOpenButton") &&
                            !button.getName().equals("parentIdCloseButton")&&
                            !button.getName().equals("parentIdOpenButton")){
                        button.setEnabled(false);
                    }
                }
        }
        else if (modelCategory.equals("饼图") || modelCategory.equals("柱图") || modelCategory.equals("线型图") || modelCategory.equals("散点图") || modelCategory.equals("雷达图") || modelCategory.equals("仪表盘图")) {
            this.selectOpenButton.setText("select-开");
            this.selectCloseButton.setText("select-关");
            for(JButton button : buttons){
                    if(!button.getName().equals("initOpenButton") &&
                            !button.getName().equals("initCloseButton") &&
                            !button.getName().equals("selectCloseButton")&&
                            !button.getName().equals("selectOpenButton")&&
                            !button.getName().equals("keyOpenButton")&&
                            !button.getName().equals("keyCloseButton")&&
                            !button.getName().equals("valueOpenButton")&&
                            !button.getName().equals("valueCloseButton")&&
                            !button.getName().equals("itemOpenButton")&&
                            !button.getName().equals("itemCloseButton")){
                        button.setEnabled(false);
                    }
                }
        } 
        else if (modelCategory.equals("普通表格联动柱图")) {
                this.kpiIdCloseButton.setToolTipText("柱图默认查询");
                this.kpiIdOpenButton.setToolTipText("柱图默认查询");
                for(JButton button : buttons){
                    if(button.getName().equals("parentIdCloseButton") ||
                            button.getName().equals("parentIdOpenButton")){
                        button.setEnabled(false);
                    }
                }
        }
    }

    /**
     * @return the sqlPreviewPanel
     */
    public static QbRightPanel getSqlPreviewPanel() {
        return sqlPreviewPanel;
    }

    /**
     * @param aSqlPreviewPanel the sqlPreviewPanel to set
     */
    public static void setSqlPreviewPanel(QbRightPanel aSqlPreviewPanel) {
        sqlPreviewPanel = aSqlPreviewPanel;
    }
}
